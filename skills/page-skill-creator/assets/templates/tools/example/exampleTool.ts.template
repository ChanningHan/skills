import { defineTool, z } from '@ali/page-skill-react';
import { TOOL_NAMES } from '../constants';

/**
 * ç¤ºä¾‹å·¥å…·å®šä¹‰
 *
 * ä½¿ç”¨ Zod å®šä¹‰å·¥å…·çš„å¥½å¤„ï¼š
 * - å•ä¸€æ•°æ®æºï¼šåŒæ—¶ç”Ÿæˆ JSON Schema å’Œ TypeScript ç±»å‹
 * - ç±»å‹å®‰å…¨ï¼šè‡ªåŠ¨æ¨å¯¼å‚æ•°ç±»å‹
 * - å¯é€‰è¿è¡Œæ—¶æ ¡éªŒï¼štool.zodSchema.parse(args)
 */
export const exampleTool = defineTool(({ z }) => ({
  name: TOOL_NAMES.EXAMPLE_TOOL,
  description: 'TODO: å·¥å…·æè¿°ï¼ŒåŒ…å«åŠŸèƒ½è¯´æ˜å’Œé€‚ç”¨åœºæ™¯ã€‚ğŸ“ æ ‡æ³¨é€‚ç”¨é¡µé¢ã€‚',
  zodSchema: z.object({
    // TODO: å®šä¹‰å·¥å…·å‚æ•°
    param1: z.string().describe('å‚æ•°1è¯´æ˜'),
    param2: z.number().optional().describe('å‚æ•°2è¯´æ˜ï¼ˆå¯é€‰ï¼‰'),
  }),
}));

// å¯¼å‡ºç±»å‹ï¼ˆä» zodSchema è‡ªåŠ¨æå–ï¼‰
export type ExampleToolInput = z.infer<typeof exampleTool.zodSchema>;
